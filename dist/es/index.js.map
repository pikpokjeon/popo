{"version":3,"file":"index.js","sources":["../../src/utils.js","../../src/lib.js","../../index.js"],"sourcesContent":[" const id = id => document.getElementById( id )\r\nconst name = name => document.getElementsByName( name )\r\n\r\nexport const pipe = ( initData, ...fns ) =>\r\n    fns.reduce( ( returned, fn ) => fn( returned ), initData )\r\n    \r\nexport const el = {id,name}\r\n\r\nconst typeOf = ['number', 'function', 'string', 'undefined', \"symbol\", \"object\"]\r\nconst initType =\r\n{\r\n    array: d => Array.isArray( d ),\r\n    null: d => d === null,\r\n    svg: svg => svg instanceof SVGElement, // svg == false\r\n    html: el => /<\\/?[a-z][\\s\\S]*>/i.test( el )\r\n }\r\n\r\n// true\r\n// const a = is['array']( [2, 3, 4, 5,] )\r\nexport const is = typeOf.reduce((typeObj, type) => Object.assign(typeObj, { [type]: d => typeof d === type }), { ...initType })\r\n\r\n\r\nexport const isChildren = data => is['array']( data ) || is['string']( data ) || 'nodeName' in data \r\n\r\nexport const setObj = ( {storage, key, data} ) =>\r\n{\r\n        // Reflect.set( storage[key], data, tempData )\r\n}\r\n\r\n","import {is, isChildren} from './utils.js'\r\n\r\n\r\nexport const setAttrs = ( el, attrs = {} ) =>\r\n{\r\n    return Object.entries( attrs ).reduce( ( acc, [key,val] ) =>\r\n    {\r\n         if ( key === 'text' )\r\n            {\r\n              acc.appendChild(document.createTextNode(val))  \r\n            } \r\n            else acc.setAttribute(key,val)\r\n            return acc\r\n    },el)\r\n}    \r\nexport const setAttr = ( type, el, attr ) => \r\n{\r\n    // const attributes = Object.entries( attr )\r\n    // if ( is['array']( attributes ) )\r\n    // {\r\n    //     return attributes.reduce( ( acc, [key, val] ) =>\r\n    //     {\r\n           \r\n    //     },el )    \r\n    // }\r\n    // return el\r\n    \r\n    return setAttrs(el, attr)\r\n}\r\n\r\nexport const removeChildren = parent => \r\n{\r\n    while ( parent.firstChild )\r\n    {\r\n        parent.removeChild(parent.firstChild)\r\n    }\r\n    return parent\r\n}\r\n\r\nexport const appendTo = parent =>\r\n{\r\n    if ( is['undefined']( parent ) ) return console.log( 'NO PARENT' )\r\n        return ( {\r\n            child: node =>\r\n            {\r\n                 if ( !is['array']( node ) ) node = [node]\r\n                node.reduce( ( acc, cur ) =>\r\n                {\r\n                    acc.appendChild( cur )\r\n                    return acc\r\n                }, parent )\r\n                return parent\r\n            }})\r\n}\r\n\r\nexport const updateChildren = ( type, parent, children = [] ) =>\r\n{\r\n    // if ( is['undefined']( children ) ) return parent\r\n    // if ( !is['array']( children ) ) children = [children]\r\n    // children.reduce( ( acc, cur ) =>\r\n    // {\r\n    //     acc.appendChild( cur )\r\n    //     return acc\r\n    // }, parent )\r\n    // return parent\r\n\r\n    // TODO: type 필요한가\r\n    return appendTo(parent).child(children)\r\n    \r\n}\r\n\r\n\r\nexport const createElement =  type  => ( tag, attr = {}, children=[] ) =>\r\n{\r\n    const el = type === 'svg' ?  document.createElementNS('http://www.w3.org/2000/svg', tag) : document.createElement(tag)\r\n    if ( isChildren( attr ) )\r\n    {\r\n        updateChildren(type,el,children)\r\n        return el\r\n    }\r\n    setAttr( type, el, attr )\r\n    updateChildren(type,el,children)\r\n    return el\r\n    \r\n}\r\n\r\nexport const element = type => tag => ( attr ={}, children=[] ) =>\r\n{\r\n    const elByType = createElement( type )\r\n    return isChildren( attr ) ? elByType( tag, {},attr) : elByType(tag,attr,children)\r\n}\r\n\r\n\r\nexport const fragment = (children) => appendTo(document.createDocumentFragment()).child(children)\r\n\r\n\r\nexport const renderTo = ( target, children = [] ) =>\r\n{\r\n    const root = el.id( target )\r\n    root.innerHTML = ''\r\n    updateChildren('',root,children)\r\n}","import {el, pipe, is}  from './src/utils.js'\r\nimport {element, fragment,setAttrs, appendTo,renderTo}    from './src/lib.js'\r\n\r\nconst Popo = {el, is, element, fragment, setAttrs, appendTo, renderTo}\r\n\r\nexport {Popo}"],"names":["id","document","getElementById","name","getElementsByName","el","typeOf","initType","array","d","Array","isArray","null","svg","SVGElement","html","test","is","reduce","typeObj","type","Object","assign","isChildren","data","setAttrs","attrs","entries","acc","key","val","appendChild","createTextNode","setAttribute","setAttr","attr","appendTo","parent","console","log","child","node","cur","updateChildren","children","createElement","tag","createElementNS","element","elByType","fragment","createDocumentFragment","renderTo","target","root","innerHTML","Popo"],"mappings":"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"}