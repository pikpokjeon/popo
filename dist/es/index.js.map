{"version":3,"file":"index.js","sources":["../../src/utils.js","../../src/lib.js","../../index.js"],"sourcesContent":["const id = id => document.getElementById( id )\r\nconst name = name => document.getElementsByName( name )\r\n\r\nexport const pipe = ( initData, ...fns ) =>\r\n    fns.reduce( ( returned, fn ) => fn( returned ), initData )\r\n\r\nexport const el = {id, name}\r\n\r\nconst typeOf = ['number', 'function', 'string', 'undefined', \"symbol\", \"object\"]\r\nconst initType =\r\n{\r\n    array: d => Array.isArray( d ),\r\n    null: d => d === null,\r\n    svg: svg => svg instanceof SVGElement, // svg == false\r\n    html: el => /<\\/?[a-z][\\s\\S]*>/i.test( el )\r\n}\r\n// true\r\n// const a = is['array']( [2, 3, 4, 5,] )\r\nexport const is = typeOf.reduce( ( typeObj, type ) => Object.assign( typeObj, {[type]: d => typeof d === type} ), {...initType} )\r\n\r\nexport const isChildren = data => is['array']( data ) || is['string']( data ) || 'nodeName' in data\r\n\r\nexport const setObj = ( {storage, key, data} ) =>\r\n{\r\n    // Reflect.set( storage[key], data, tempData )\r\n}\r\n\r\nexport const iterate = ( {length, startIdx} ) => Array.from( Array( length ).fill( startIdx ) ).map( ( idx, i ) => idx + i ) ","import {is, isChildren} from './utils.js'\r\n\r\n\r\nexport const setAttrs = ( el, attrs = {} ) =>\r\n{\r\n    return Object.entries( attrs ).reduce( ( acc, [key, val] ) =>\r\n    {\r\n        if ( key === 'text' )\r\n        {\r\n            const textElem = document.createTextNode( val )\r\n            console.log( textElem )\r\n            acc.appendChild( textElem )\r\n            return acc\r\n        }\r\n        else acc.setAttribute( key, val )\r\n        return acc\r\n    }, el )\r\n}\r\nexport const setAttr = ( type, el, attr ) => \r\n{\r\n    // const attributes = Object.entries( attr )\r\n    // if ( is['array']( attributes ) )\r\n    // {\r\n    //     return attributes.reduce( ( acc, [key, val] ) =>\r\n    //     {\r\n\r\n    //     },el )    \r\n    // }\r\n    // return el\r\n\r\n    return setAttrs( el, attr )\r\n}\r\n\r\nexport const removeChildren = parent => \r\n{\r\n    while ( parent.firstChild )\r\n    {\r\n        parent.removeChild( parent.firstChild )\r\n    }\r\n    return parent\r\n}\r\n\r\nexport const appendTo = parent =>\r\n{\r\n    if ( is['undefined']( parent ) ) return console.log( 'NO PARENT' )\r\n    const child = node =>\r\n    {\r\n\r\n        if ( !is['array']( node ) ) node = [node]\r\n        return Array.from( node ).reduce( ( acc, cur ) =>\r\n        {\r\n            acc.appendChild( cur )\r\n            return acc\r\n        }, parent )\r\n    }\r\n    return {child}\r\n}\r\n\r\nexport const updateChildren = ( type, parent, children = [] ) => appendTo( parent ).child( children )\r\n\r\nexport const createElement = type => ( tag, attr = {}, children = [] ) =>\r\n{\r\n    const el = type === 'svg' ? document.createElementNS( 'http://www.w3.org/2000/svg', tag ) : document.createElement( tag )\r\n    if ( isChildren( attr ) )\r\n    {\r\n        updateChildren( type, el, children )\r\n        return el\r\n    }\r\n    setAttr( type, el, attr )\r\n    updateChildren( type, el, children )\r\n    return el\r\n\r\n}\r\n\r\nconst setToCreate = ( con, tag, attr, children ) => isChildren( attr ) ? con( tag, {}, attr ) : con( tag, attr, children )\r\n\r\nexport const element = type => ( tag, initAttrs, initChildrend ) => ( attr = {}, children = [] ) =>\r\n{\r\n    let createTypeElem = createElement( type ) //setType\r\n    const initialAttributes = Object.assign( {}, {...initAttrs} )\r\n    if ( attr )\r\n    {\r\n        return isChildren( attr ) ? createTypeElem( tag, {}, attr ) : createTypeElem( tag, Object.assign( initialAttributes, {...attr} ), children )\r\n    }\r\n    return isChildren( initAttrs ) ? setToCreate( createTypeElem, tag, {}, initAttrs ) : setToCreate( createTypeElem, tag, initialAttributes, initChildrend )\r\n}\r\n\r\nexport const fragment = ( children ) => appendTo( document.createDocumentFragment() ).child( children )\r\n\r\nexport const renderTo = ( target, children = [] ) =>\r\n{\r\n    const root = el.id( target )\r\n    root.innerHTML = ''\r\n    updateChildren( '', root, children )\r\n}\r\n","import {el, iterate, is} from './src/utils.js'\r\nimport {element, fragment, setAttrs, o} from './src/lib.js'\r\n\r\nconst Popo = {el, is, element, fragment, setAttrs, iterate}\r\n\r\nexport {Popo}"],"names":["id","document","getElementById","name","getElementsByName","el","typeOf","initType","array","d","Array","isArray","null","svg","SVGElement","html","test","is","reduce","typeObj","type","Object","assign","isChildren","data","iterate","length","startIdx","from","fill","map","idx","i","setAttrs","attrs","entries","acc","key","val","textElem","createTextNode","console","log","appendChild","setAttribute","setAttr","attr","appendTo","parent","child","node","cur","updateChildren","children","createElement","tag","createElementNS","setToCreate","con","element","initAttrs","initChildrend","createTypeElem","initialAttributes","fragment","createDocumentFragment","Popo"],"mappings":"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"}