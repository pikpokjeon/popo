{"version":3,"file":"index.js","sources":["../../src/utils.js","../../src/lib.js","../../index.js"],"sourcesContent":["const id = id => document.getElementById( id )\nconst name = name => document.getElementsByName( name )\n\nexport const pipe = ( initData, ...fns ) =>\n    fns.reduce( ( returned, fn ) => fn( returned ), initData )\n\nexport const el = {id, name}\n\nconst typeOf = ['number', 'function', 'string', 'undefined', \"symbol\", \"object\"]\nconst initType =\n{\n    array: d => Array.isArray( d ),\n    null: d => d === null,\n    svg: svg => svg instanceof SVGElement, // svg == false\n    html: el => /<\\/?[a-z][\\s\\S]*>/i.test( el )\n}\n// true\n// const a = is['array']( [2, 3, 4, 5,] )\nexport const is = typeOf.reduce( ( typeObj, type ) => Object.assign( typeObj, {[type]: d => typeof d === type} ), {...initType} )\n\nexport const isChildren = data => is['array']( data ) || is['string']( data ) || 'nodeName' in data\n\nexport const setObj = ( {storage, key, data} ) =>\n{\n    // Reflect.set( storage[key], data, tempData )\n}\n\nexport const iterate = ( {length, startIdx} ) => Array.from( Array( length ).fill( startIdx ) ).map( ( idx, i ) => idx + i ) ","import {is, isChildren} from './utils.js'\n\n\nexport const setAttrs = ( el, attrs = {} ) =>\n{\n    return Object.entries( attrs ).reduce( ( acc, [key, val] ) =>\n    {\n        if ( key === 'text' )\n        {\n            const textElem = document.createTextNode( val )\n            console.log( textElem )\n            acc.appendChild( textElem )\n            return acc\n        }\n        else acc.setAttribute( key, val )\n        return acc\n    }, el )\n}\nexport const setAttr = ( type, el, attr ) => \n{\n    // const attributes = Object.entries( attr )\n    // if ( is['array']( attributes ) )\n    // {\n    //     return attributes.reduce( ( acc, [key, val] ) =>\n    //     {\n\n    //     },el )    \n    // }\n    // return el\n\n    return setAttrs( el, attr )\n}\n\nexport const removeChildren = parent => \n{\n    while ( parent.firstChild )\n    {\n        parent.removeChild( parent.firstChild )\n    }\n    return parent\n}\n\nexport const appendTo = parent =>\n{\n    if ( is['undefined']( parent ) ) return console.log( 'NO PARENT' )\n    const child = node =>\n    {\n\n        if ( !is['array']( node ) ) node = [node]\n        return Array.from( node ).reduce( ( acc, cur ) =>\n        {\n            acc.appendChild( cur )\n            return acc\n        }, parent )\n    }\n    return {child}\n}\n\nexport const updateChildren = ( type, parent, children = [] ) => appendTo( parent ).child( children )\n\nexport const createElement = type => ( tag, attr = {}, children = [] ) =>\n{\n    const el = type === 'svg' ? document.createElementNS( 'http://www.w3.org/2000/svg', tag ) : document.createElement( tag )\n    if ( isChildren( attr ) )\n    {\n        updateChildren( type, el, children )\n        return el\n    }\n    setAttr( type, el, attr )\n    updateChildren( type, el, children )\n    return el\n\n}\n\nconst setToCreate = ( con, tag, attr, children ) => isChildren( attr ) ? con( tag, {}, attr ) : con( tag, attr, children )\n\nexport const element = type => ( tag, initAttrs, initChildrend ) => ( attr = {}, children = [] ) =>\n{\n    let createTypeElem = createElement( type ) //setType\n    const initialAttributes = Object.assign( {}, {...initAttrs} )\n    if ( attr )\n    {\n        return isChildren( attr ) ? createTypeElem( tag, {}, attr ) : createTypeElem( tag, Object.assign( initialAttributes, {...attr} ), children )\n    }\n    return isChildren( initAttrs ) ? setToCreate( createTypeElem, tag, {}, initAttrs ) : setToCreate( createTypeElem, tag, initialAttributes, initChildrend )\n}\n\nexport const fragment = ( children ) => appendTo( document.createDocumentFragment() ).child( children )\n\nexport const renderTo = ( target, children = [] ) =>\n{\n    const root = el.id( target )\n    root.innerHTML = ''\n    updateChildren( '', root, children )\n}\n","import {el, iterate, is} from './src/utils.js'\nimport {element, fragment, setAttrs, o} from './src/lib.js'\n\nconst Popo = {el, is, element, fragment, setAttrs, iterate}\n\nexport {Popo}"],"names":["id","document","getElementById","name","getElementsByName","el","typeOf","initType","array","d","Array","isArray","null","svg","SVGElement","html","test","is","reduce","typeObj","type","Object","assign","isChildren","data","iterate","length","startIdx","from","fill","map","idx","i","setAttrs","attrs","entries","acc","key","val","textElem","createTextNode","console","log","appendChild","setAttribute","setAttr","attr","appendTo","parent","child","node","cur","updateChildren","children","createElement","tag","createElementNS","setToCreate","con","element","initAttrs","initChildrend","createTypeElem","initialAttributes","fragment","createDocumentFragment","Popo"],"mappings":"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"}